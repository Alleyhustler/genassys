<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GenASSys - Advanced AI Crypto Bottom Finder</title>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
<style>:root {
  --accent-color: #b76e79;                  /* Muted rose gold */
  --accent-dark: #5c2e3a;                  /* Dark burgundy */
  --accent-light: #c0a080;                 /* Antique gold */
  --neon-blue: #00a3ff;                    /* Kept original */
  --dark-bg: #ffdddd;                      /* Kept original */
  --panel-bg: #12171d;                     /* Kept original */
  --grid-color: rgba(192, 160, 128, 0.07); /* Gold grid */
  --text-color: #e0e0e0;                   /* Kept original */
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'JetBrains Mono', monospace;
  background-color: var(--dark-bg);
  color: var(--text-color);
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    linear-gradient(var(--dark-bg), var(--dark-bg)),
    repeating-linear-gradient(to right, var(--grid-color) 0px, var(--grid-color) 1px, transparent 1px, transparent 40px),
    repeating-linear-gradient(to bottom, var(--grid-color) 0px, var(--grid-color) 1px, transparent 1px, transparent 40px);
  z-index: -1;
  pointer-events: none;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

header {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 30px 0;
  position: relative;
}

.header-logo {
  display: flex;
  align-items: center;
  gap: 20px;
}

.logo-img {
  height: 80px;
  width: auto;
}

.logo {
  font-family: 'Orbitron', sans-serif;
  font-weight: 900;
  font-size: 4rem;
  background: linear-gradient(45deg, #5c2e3a, #c0a080);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 0 15px rgba(192, 160, 128, 0.3);
  animation: pulse 4s infinite alternate;
}

@keyframes pulse {
  100% { 
    text-shadow: 
      0 0 20px rgba(192, 160, 128, 0.7), 
      0 0 40px rgba(92, 46, 58, 0.5); 
  }
}

.tagline {
  font-size: 1.2rem;
  letter-spacing: 1px;
  opacity: 0.8;
  margin-bottom: 30px;
}

.feature-buttons {
  display: flex;
  gap: 15px;
  margin-bottom: 30px;
  flex-wrap: wrap;
  justify-content: center;
}

.feature-button {
  background-color: var(--panel-bg);
  color: var(--accent-light);
  border: 1px solid var(--accent-light);
  padding: 12px 24px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  border-radius: 4px;
  box-shadow: 0 0 10px rgba(192, 160, 128, 0.2);
}

.feature-button:hover {
  background-color: rgba(192, 160, 128, 0.1);
  box-shadow: 0 0 15px rgba(192, 160, 128, 0.4);
}

.feature-button:active {
  transform: translateY(2px);
}

.feature-button::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 2px;
  background-color: var(--accent-light);
  transition: all 0.3s ease;
}

.feature-button:hover::before {
  left: 0;
}

.main-content {
  display: flex;
  gap: 30px;
  margin-bottom: 30px;
}

.left-section {
  flex: 1;
}

.right-section {
  flex: 1;
}

.panel {
  background-color: var(--panel-bg);
  border: 1px solid rgba(192, 160, 128, 0.3);
  border-radius: 6px;
  padding: 20px;
  margin-bottom: 30px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
  height: 100%;
}

#chart-container {
  width: 100%;
  min-height: 500px;
  position: relative;
}

#chart {
  width: 100%;
  height: 500px;
  border-radius: 4px;
  overflow: hidden;
}

.chart-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--accent-light);
  font-size: 1.5rem;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.chart-overlay.visible {
  opacity: 1;
  pointer-events: all;
}

.ai-prediction {
  margin-top: 20px;
  padding: 15px;
  background-color: rgba(192, 160, 128, 0.1);
  border-left: 3px solid var(--accent-light);
  font-size: 1rem;
  position: relative;
}

.ai-prediction::before {
  content: "AI PREDICTION";
  position: absolute;
  top: -10px;
  left: 10px;
  background-color: var(--panel-bg);
  padding: 0 10px;
  font-size: 0.8rem;
  color: var(--accent-light);
}

.analysis-section {
  height: 100%;
}

.section-title {
  font-family: 'Orbitron', sans-serif;
  font-size: 1.8rem;
  margin-bottom: 20px;
  padding-bottom: 10px;
  border-bottom: 1px solid rgba(0, 255, 163, 0.3);
  color: #cacaca);
}

.form-group {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.input-field {
  flex: 1;
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(192, 160, 128, 0.3);
  padding: 12px 15px;
  color: var(--text-color);
  font-family: 'JetBrains Mono', monospace;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.input-field:focus {
  outline: none;
  border-color: var(--accent-light);
  box-shadow: 0 0 10px rgba(192, 160, 128, 0.3);
}

.submit-button {
  background-color: var(--accent-light);
  color: #12171d;
  border: none;
  padding: 12px 24px;
  font-family: 'JetBrains Mono', monospace;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  border-radius: 4px;
}

.submit-button:hover {
  background-color: #a58c6e;
  box-shadow: 0 0 15px rgba(192, 160, 128, 0.5);
}

.output-panel {
  background-color: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(192, 160, 128, 0.2);
  border-radius: 4px;
  padding: 20px;
  font-size: 1rem;
  line-height: 1.6;
  min-height: 200px;
  position: relative;
}

.output-panel.loading::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
}

.output-title {
  font-weight: bold;
  color: var(--accent-light);
  margin-bottom: 5px;
}

.output-value {
  margin-bottom: 15px;
  word-break: break-all;
}

.blinking-cursor {
  display: inline-block;
  width: 10px;
  height: 20px;
  background-color: var(--accent-light);
  animation: blink 1s step-end infinite;
  vertical-align: middle;
  margin-left: 5px;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.price-prediction {
  padding: 10px;
  border-left: 3px solid var(--accent-color);
  background-color: rgba(183, 110, 121, 0.1);
  margin-top: 10px;
  color: #fff;
}

.terminal-effect {
  overflow: hidden;
  white-space: nowrap;
  animation: typing 3s steps(40, end);
}

@keyframes typing {
  from { width: 0 }
  to { width: 100% }
}

.status-indicator {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
}

.status-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--accent-light);
  margin-right: 10px;
  animation: pulse-status 2s infinite;
}

@keyframes pulse-status {
  0% { box-shadow: 0 0 0 0 rgba(192, 160, 128, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(192, 160, 128, 0); }
  100% { box-shadow: 0 0 0 0 rgba(192, 160, 128, 0); }
}

.bottom-indicator {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: var(--accent-color);
  border-radius: 50%;
  box-shadow: 0 0 15px var(--accent-color);
  transform: translate(-50%, -50%);
  z-index: 10;
  pointer-events: none;
}

.bottom-indicator::before {
  content: "BOTTOM";
  position: absolute;
  top: -25px;
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--accent-color);
  color: white;
  padding: 3px 8px;
  border-radius: 3px;
  font-size: 0.8rem;
  white-space: nowrap;
}

.bottom-indicator::after {
  content: "";
  position: absolute;
  top: -5px;
  left: 50%;
  transform: translateX(-50%);
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 5px solid var(--accent-color);
}

footer {
  margin-top: 50px;
  text-align: center;
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.5);
  padding: 20px 0;
  border-top: 1px solid rgba(192, 160, 128, 0.1);
}

.floating-element {
  position: fixed;
  width: 160px;
  height: 160px;
  pointer-events: none;
  z-index: 100;
  animation: float 15s infinite linear;
  opacity: 0.7;
  filter: brightness(1.5);
}

@keyframes float {
  0% { transform: translate(0, 0) rotate(0deg); }
  25% { transform: translate(100px, 100px) rotate(90deg); }
  50% { transform: translate(200px, 0) rotate(180deg); }
  75% { transform: translate(100px, -100px) rotate(270deg); }
  100% { transform: translate(0, 0) rotate(360deg); }
}

@media (max-width: 768px) {
  .logo { font-size: 3rem; }
  .form-group { flex-direction: column; }
  .feature-buttons { flex-direction: column; }
  .feature-button { width: 100%; }
  .main-content { flex-direction: column; }
  .header-logo { flex-direction: column; gap: 10px; }
}
.subtitle {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1rem;
  font-weight: 10000;
  color: transparent;
  background: linear-gradient(45deg, #c0a080, #5c2e3a);
  -webkit-background-clip: text;
  background-clip: text;
  text-shadow: 0 0 10px rgba(192, 160, 128, 0.2);
  margin-top: -10px;
  margin-bottom: 15px;
  animation: shimmer 6s infinite linear;
  text-align: center;
}

@keyframes shimmer {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 100% 50%;
  }
}
.twitter-button {
  margin-left: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 76px;
  height: 76px;
  transition: all 0.3s ease;
}
</style>
</head>
<body>
  <!-- Floating elements -->
  <img src="image (16).png" class="floating-element" style="top: 30%; right: 15%; animation-delay: 3s;">
  <img src="image (17).png" class="floating-element" style="bottom: 20%; left: 20%; animation-delay: 6s;">
  <img src="image (18).png" class="floating-element" style="bottom: 30%; right: 10%; animation-delay: 9s;">
  
  <div class="container">
    <header>
      <div class="header-logo">
        <img src="New Project (8).png" alt="GenASSys Logo" class="logo-img">
    
        <h1 class="logo">GenASSys</h1>
        <a href="https://x.com/GenASSys" target="_blank" class="twitter-button" title="Follow us on Twitter">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#c0a080" width="20" height="20">
    <path d="M22.46 6c-.77.35-1.6.59-2.46.69a4.2 4.2 0 0 0 1.84-2.32 8.3 8.3 0 0 1-2.65 1.02A4.15 4.15 0 0 0 16.1 4c-2.3 0-4.17 1.87-4.17 4.18 0 .33.04.65.11.96A11.8 11.8 0 0 1 3.16 5.1a4.18 4.18 0 0 0 1.29 5.57 4.07 4.07 0 0 1-1.89-.52v.05c0 2.04 1.46 3.74 3.4 4.13a4.2 4.2 0 0 1-1.88.07 4.17 4.17 0 0 0 3.89 2.9A8.36 8.36 0 0 1 2 19.54a11.78 11.78 0 0 0 6.29 1.84c7.55 0 11.68-6.26 11.68-11.68 0-.18 0-.35-.01-.53A8.18 8.18 0 0 0 24 5.53a8.34 8.34 0 0 1-2.54.7z"/>
  </svg>
</a>
      </div>


      <p class="tagline"><h2 class="subtitle">We in GenASSys analyze the market and call you the bottom. An ASS project</h2>
</p>
      
      <div class="feature-buttons">
        <button class="feature-button" onclick="showChart('SOL')">SOL Bottom Analysis</button>
        <button class="feature-button" onclick="showChart('BTC')">BTC Bottom Analysis</button>
        <button class="feature-button" onclick="showChart('ETH')">ETH Bottom Analysis</button>
      </div>
    </header>
    
    <div class="main-content">
      <div class="left-section">
        <div class="panel">
          <div class="status-indicator">
            <div class="status-dot"></div>
            <div>AI System Active</div>
          </div>
          
          <div id="chart-container">
            <div id="chart"></div>
            <div class="chart-overlay" id="chart-loading">
              <div>Processing Market Data...</div>
              <div class="blinking-cursor"></div>
            </div>
          </div>
          
          <div class="ai-prediction" id="ai-prediction">
            Select a token to analyze or enter a contract address below.
          </div>
        </div>
      </div>
      
      <div class="right-section">
        <section class="analysis-section">
          <div class="panel">
            <h2 class="section-title">Solana Token Analysis</h2>
            
            <form id="caForm">
              <div class="form-group">
                <input type="text" id="contractAddress" class="input-field" placeholder="Enter Solana Contract Address (CA)" required>
                <button type="submit" class="submit-button">Analyze Token</button>
              </div>
            </form>
            
            <div class="output-panel" id="caOutput">
              <div class="terminal-effect">Ready to analyze Solana tokens<span class="blinking-cursor"></span></div>
            </div>
          </div>
        </section>
      </div>
    </div>
    
    <footer>
      <p>GenASSys v1.0 | Advanced Trading Intelligence</p>
    </footer>
  </div>

  <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>

  <script>
    // Initialize bottom indicator
    let bottomIndicator = document.createElement('div');
    bottomIndicator.className = 'bottom-indicator';
    bottomIndicator.style.display = 'none';
    document.body.appendChild(bottomIndicator);
    
    // Initialize variables
    let currentCoin = '';
    const chartLoading = document.getElementById('chart-loading');
    const aiPrediction = document.getElementById('ai-prediction');
    
    // Utility function for getting random numbers within a range
    function getRandomInRange(min, max) {
      return Math.random() * (max - min) + min;
    }
    
    // Function to format numbers with commas
    function formatNumber(num) {
      return num.toLocaleString('en-US', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      });
    }
    
    // Function to get random prediction text
    function getRandomPrediction(coin, price, bottomPrice, daysToBottom) {
      const predictions = [
        `Based on technical analysis and market sentiment, ${coin} is likely to reach a bottom at approximately $${bottomPrice} in ${daysToBottom} days.`,
        `Our AI model predicts ${coin} to bottom out at $${bottomPrice} within ${daysToBottom} days with 87% confidence.`,
        `${coin} shows early signs of accumulation but still has downside potential. Expected bottom: $${bottomPrice} within ${daysToBottom} days.`,
        `Market cycle analysis indicates ${coin} will find support at $${bottomPrice}, approximately ${daysToBottom} days from now.`,
        `Based on volume profile and historical patterns, ${coin} is likely to find its bottom at $${bottomPrice} within the next ${daysToBottom} days.`
      ];
      
      return predictions[Math.floor(Math.random() * predictions.length)];
    }
    
    // Function to simulate an AI-generated bottom prediction
    function predictBottom(coin) {
      // Get current price (this would come from an API in a real implementation)
      let currentPrice;
      let percentDrop;
      let daysToBottom;
      
      switch(coin) {
        case 'BTC':
          currentPrice = getRandomInRange(56000, 60000);
          percentDrop = getRandomInRange(5, 15);
          daysToBottom = Math.floor(getRandomInRange(7, 45));
          break;
        case 'ETH':
          currentPrice = getRandomInRange(2800, 3200);
          percentDrop = getRandomInRange(8, 18);
          daysToBottom = Math.floor(getRandomInRange(5, 30));
          break;
        case 'SOL':
          currentPrice = getRandomInRange(120, 150);
          percentDrop = getRandomInRange(12, 25);
          daysToBottom = Math.floor(getRandomInRange(3, 21));
          break;
        default:
          currentPrice = 1000;
          percentDrop = 10;
          daysToBottom = 14;
      }
      
      const bottomPrice = (currentPrice * (1 - (percentDrop / 100))).toFixed(2);
      const formattedCurrentPrice = formatNumber(currentPrice);
      const prediction = getRandomPrediction(coin, formattedCurrentPrice, bottomPrice, daysToBottom);
      
      // Display the prediction
      aiPrediction.innerHTML = `
        <div class="status-indicator">
          <div class="status-dot"></div>
          <div>AI Analysis Complete</div>
        </div>
        <p>${prediction}</p>
        <div class="price-prediction">
          <strong>Current Price:</strong> $${formattedCurrentPrice}<br>
          <strong>Predicted Bottom:</strong> $${bottomPrice} (${percentDrop.toFixed(1)}% drop)<br>
          <strong>Timeframe:</strong> ${daysToBottom} days
        </div>
      `;
      
      // Position the bottom indicator on the chart
      setTimeout(() => {
        const chart = document.getElementById('chart');
        const rect = chart.getBoundingClientRect();
        
        // Position it somewhere in the lower part of the chart
        // In a real implementation, this would be precisely calculated based on the actual chart data
        const bottomX = rect.left + rect.width * 0.7;
        const bottomY = rect.top + rect.height * 0.7;
        
        bottomIndicator.style.left = `${bottomX}px`;
        bottomIndicator.style.top = `${bottomY}px`;
        bottomIndicator.style.display = 'block';
      }, 500);
    }
    
    // Function to show a chart for a specific coin
    async function showChart(coin) {
      // Update current coin
      currentCoin = coin;
      
      // Show loading state
      chartLoading.classList.add('visible');
      aiPrediction.innerHTML = 'Analyzing market data...';
      bottomIndicator.style.display = 'none';
      
      // Get chart container
      const chartDiv = document.getElementById('chart');
      
      // Clear previous chart
      chartDiv.innerHTML = '';
      
      // Create new TradingView widget
      chartDiv.innerHTML = `
        <iframe 
          src="https://s.tradingview.com/widgetembed/?frameElementId=tradingview_${Date.now()}&symbol=BINANCE:${coin}USDT&interval=D&theme=dark&style=1&locale=en&enable_publishing=false&hide_top_toolbar=true"
          width="100%" 
          height="100%" 
          frameborder="0"
          allowtransparency="true"
          scrolling="no">
        </iframe>
      `;
      
      // Simulate loading time
      setTimeout(() => {
        // Hide loading state
        chartLoading.classList.remove('visible');
        
        // Generate AI prediction
        predictBottom(coin);
      }, 2000);
    }
    
    // Function to analyze a token by its contract address
    async function analyzeToken(contractAddress) {
      const caOutput = document.getElementById('caOutput');
      
      // Show loading state
      caOutput.innerHTML = '<div class="terminal-effect">Analyzing token data<span class="blinking-cursor"></span></div>';
      caOutput.classList.add('loading');
      
      try {
        // Make API request to get token information
        const response = await fetch("https://mainnet.helius-rpc.com/?api-key=a0fbabbd-6313-4713-a2f6-a4d44e60588c", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            jsonrpc: "2.0",
            id: 1,
            method: "getAccountInfo",
            params: [
              contractAddress,
              { encoding: "jsonParsed" }
            ]
          })
        });
        
        const data = await response.json();
        const parsed = data?.result?.value?.data?.parsed;
        
        if (!parsed || parsed.type !== "mint") {
          caOutput.innerHTML = '<div class="output-title">Error</div><div class="output-value">Invalid token mint address.</div>';
          return;
        }
        
        // Get token supply and decimals
        const supply = parseFloat(parsed.info.supply) / Math.pow(10, parsed.info.decimals);
        const decimals = parsed.info.decimals;
        
        // Get token metadata (name and symbol)
        let name = "Unknown Token";
        let symbol = "???";
        
        try {
          const metadata = await getTokenMetadata(contractAddress);
          if (metadata.name) name = metadata.name;
          if (metadata.symbol) symbol = metadata.symbol;
        } catch (err) {
          console.error("Error fetching metadata:", err);
        }
        
        // Generate mock price and market cap
        const priceGuess = getRandomInRange(0.00001, 0.01);
        const marketCap = priceGuess * supply;
        
        // Generate bottom prediction
        const bottomPercentage = getRandomInRange(40, 70) / 100;
        const bottomMC = marketCap * bottomPercentage;
        const bottomPrice = priceGuess * bottomPercentage;
        const daysToBottom = Math.floor(getRandomInRange(3, 21));
        
        // Calculate token age (random for demonstration)
        const tokenAge = Math.floor(getRandomInRange(1, 180));
        const launchDate = moment().subtract(tokenAge, 'days').calendar();
        
        // Generate risk score (random for demonstration)
        const riskScore = Math.floor(getRandomInRange(30, 90));
        
        // Display the results
        caOutput.innerHTML = `
          <div class="status-indicator">
            <div class="status-dot"></div>
            <div>Analysis Complete</div>
          </div>
          
          <div class="output-title">Token Information</div>
          <div class="output-value">
            <strong>Name:</strong> ${name}<br>
            <strong>Symbol:</strong> ${symbol}<br>
            <strong>Contract:</strong> ${contractAddress}<br>
            <strong>Decimals:</strong> ${decimals}<br>
            <strong>Total Supply:</strong> ${supply.toLocaleString()}<br>
            <strong>Launch Date (est.):</strong> ${launchDate}
          </div>
          
          <div class="output-title">Market Analysis</div>
          <div class="output-value">
            <strong>Current Price:</strong> $${priceGuess.toFixed(8)}<br>
            <strong>Current Market Cap:</strong> $${formatNumber(marketCap)}<br>
            <strong>Risk Score:</strong> ${riskScore}/100
          </div>
          
          <div class="output-title">Bottom Prediction</div>
          <div class="output-value">
            <strong>Predicted Bottom Price:</strong> $${bottomPrice.toFixed(8)}<br>
            <strong>Predicted Bottom Market Cap:</strong> $${formatNumber(bottomMC)}<br>
            <strong>Days Until Bottom:</strong> ~${daysToBottom} days<br>
            <strong>Confidence:</strong> ${Math.floor(getRandomInRange(75, 95))}%
          </div>
          
          <div class="price-prediction">
            <strong>AI Analysis:</strong> Based on supply distribution, holder concentration, and market sentiment analysis, this token is likely to experience a ${((1-bottomPercentage)*100).toFixed(1)}% drop from current levels before finding its bottom. Early accumulation recommended at $${bottomPrice.toFixed(8)}.
          </div>
        `;
      } catch (err) {
        caOutput.innerHTML = `<div class="output-title">Error</div><div class="output-value">Failed to analyze token. Error: ${err.message}</div>`;
        console.error(err);
      } finally {
        caOutput.classList.remove('loading');
      }
    }
    
    // Function to get token metadata
    async function getTokenMetadata(mint) {
      const METADATA_PROGRAM_ID = "metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";
      
      try {
        const [metadataPDA] = await solanaWeb3.PublicKey.findProgramAddress(
          [
            new TextEncoder().encode("metadata"),
            new solanaWeb3.PublicKey(METADATA_PROGRAM_ID).toBuffer(),
            new solanaWeb3.PublicKey(mint).toBuffer()
          ],
          new solanaWeb3.PublicKey(METADATA_PROGRAM_ID)
        );
        
        const res = await fetch("https://mainnet.helius-rpc.com/?api-key=a0fbabbd-6313-4713-a2f6-a4d44e60588c", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            jsonrpc: "2.0",
            id: 1,
            method: "getAccountInfo",
            params: [
              metadataPDA.toBase58(),
              { encoding: "base64" }
            ]
          })
        });
        
        const json = await res.json();
        const base64Data = json?.result?.value?.data?.[0];
        if (!base64Data) return {};
        
        const buffer = Uint8Array.from(atob(base64Data), c => c.charCodeAt(0));
        const name = new TextDecoder().decode(buffer.slice(1 + 32 + 32, 1 + 32 + 32 + 32)).replace(/\0/g, '');
        const symbol = new TextDecoder().decode(buffer.slice(1 + 32 + 32 + 32, 1 + 32 + 32 + 32 + 10)).replace(/\0/g, '');
        
        return { name, symbol };
      } catch (err) {
        console.error("Error fetching metadata:", err);
        return {};
      }
    }
    
    // Event listener for form submission
    document.getElementById("caForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const contractAddress = document.getElementById("contractAddress").value.trim();
      analyzeToken(contractAddress);
    });
    
    // Initialize the page with BTC chart
    document.addEventListener("DOMContentLoaded", function() {
      showChart('BTC');
      
      // Make floating elements bounce around
      const floatingElements = document.querySelectorAll('.floating-element');
      floatingElements.forEach(el => {
        // Randomize initial position
        el.style.left = `${Math.random() * 80 + 10}%`;
        el.style.top = `${Math.random() * 80 + 10}%`;
        
        // Randomize animation
        const duration = Math.random() * 20 + 10;
        const delay = Math.random() * 10;
        el.style.animation = `float ${duration}s infinite ${delay}s linear`;
      });
    });
  </script>
</body>
</html>

